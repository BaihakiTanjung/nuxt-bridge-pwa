try{self["workbox:window:5.1.4"]&&_()}catch(u){}function e(e,t){return new Promise((function(r){var n=new MessageChannel;n.port1.onmessage=function(e){r(e.data)},e.postMessage(t,[n.port2])}))}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}try{self["workbox:core:5.1.4"]&&_()}catch(u){}var r=function(){var e=this;this.promise=new Promise((function(t,r){e.resolve=t,e.reject=r}))};function n(e,t){var r=location.href;return new URL(e,r).href===new URL(t,r).href}var o=function(e,t){this.type=e,Object.assign(this,t)};function i(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function a(){}var s=function(t){var a,s;function v(e,a){var s,c;return void 0===a&&(a={}),(s=t.call(this)||this).t={},s.i=0,s.o=new r,s.u=new r,s.s=new r,s.v=0,s.h=new Set,s.l=function(){var e=s.m,t=e.installing;s.i>0||!n(t.scriptURL,s.g)||performance.now()>s.v+6e4?(s.p=t,e.removeEventListener("updatefound",s.l)):(s.P=t,s.h.add(t),s.o.resolve(t)),++s.i,t.addEventListener("statechange",s.S)},s.S=function(e){var t=s.m,r=e.target,n=r.state,i=r===s.p,a=i?"external":"",c={sw:r,originalEvent:e};!i&&s.j&&(c.isUpdate=!0),s.dispatchEvent(new o(a+n,c)),"installed"===n?s.A=self.setTimeout((function(){"installed"===n&&t.waiting===r&&s.dispatchEvent(new o(a+"waiting",c))}),200):"activating"===n&&(clearTimeout(s.A),i||s.u.resolve(r))},s.O=function(e){var t=s.P;t===navigator.serviceWorker.controller&&(s.dispatchEvent(new o("controlling",{sw:t,originalEvent:e,isUpdate:s.j})),s.s.resolve(t))},s.U=(c=function(e){var t=e.data,r=e.source;return i(s.getSW(),(function(){s.h.has(r)&&s.dispatchEvent(new o("message",{data:t,sw:r,originalEvent:e}))}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(c.apply(this,e))}catch(r){return Promise.reject(r)}}),s.g=e,s.t=a,navigator.serviceWorker.addEventListener("message",s.U),s}s=t,(a=v).prototype=Object.create(s.prototype),a.prototype.constructor=a,a.__proto__=s;var l,f=v.prototype;return f.register=function(e){var t,r,a=(void 0===e?{}:e).immediate,s=void 0!==a&&a;try{var u=this;return t=function(){return u.j=Boolean(navigator.serviceWorker.controller),u.I=u.M(),i(u.R(),(function(e){u.m=e,u.I&&(u.P=u.I,u.u.resolve(u.I),u.s.resolve(u.I),u.I.addEventListener("statechange",u.S,{once:!0}));var t=u.m.waiting;return t&&n(t.scriptURL,u.g)&&(u.P=t,Promise.resolve().then((function(){u.dispatchEvent(new o("waiting",{sw:t,wasWaitingBeforeRegister:!0}))})).then((function(){}))),u.P&&(u.o.resolve(u.P),u.h.add(u.P)),u.m.addEventListener("updatefound",u.l),navigator.serviceWorker.addEventListener("controllerchange",u.O,{once:!0}),u.m}))},r=function(){if(!s&&"complete"!==document.readyState)return c(new Promise((function(e){return window.addEventListener("load",e)})))}(),r&&r.then?r.then(t):t()}catch(v){return Promise.reject(v)}},f.update=function(){try{return this.m?c(this.m.update()):void 0}catch(u){return Promise.reject(u)}},f.getSW=function(){try{return void 0!==this.P?this.P:this.o.promise}catch(u){return Promise.reject(u)}},f.messageSW=function(t){try{return i(this.getSW(),(function(r){return e(r,t)}))}catch(u){return Promise.reject(u)}},f.M=function(){var e=navigator.serviceWorker.controller;return e&&n(e.scriptURL,this.g)?e:void 0},f.R=function(){try{var e=this;return function(t,r){try{var n=i(navigator.serviceWorker.register(e.g,e.t),(function(t){return e.v=performance.now(),t}))}catch(o){return r(o)}return n&&n.then?n.then(void 0,r):n}(0,(function(e){throw e}))}catch(t){return Promise.reject(t)}},(l=[{key:"active",get:function(){return this.u.promise}},{key:"controlling",get:function(){return this.s.promise}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(v.prototype,l),v}(function(){function e(){this.k=new Map}var r=e.prototype;return r.addEventListener=function(e,t){this.B(e).add(t)},r.removeEventListener=function(e,t){this.B(e).delete(t)},r.dispatchEvent=function(e){e.target=this;for(var r,n=function(e,r){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(this.B(e.type));!(r=n()).done;)(0,r.value)(e)},r.B=function(e){return this.k.has(e)||this.k.set(e,new Set),this.k.get(e)},e}());function c(e,t){if(!t)return e&&e.then?e.then(a):Promise.resolve()}export{s as Workbox,e as messageSW};
